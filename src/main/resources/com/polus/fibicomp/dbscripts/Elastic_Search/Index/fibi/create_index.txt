--- Steps to create new index ---

1. Delete the old index(if already have with same name).

	curl -XDELETE https://localhost:9200/award/

2. Create new award index by executing below command.

curl -XDELETE http://localhost:9200/awardfibi
curl -XDELETE http://localhost:9200/coifibi/
curl -XDELETE http://localhost:9200/iacucfibi/
curl -XDELETE http://localhost:9200/irbprotocolfibi/ 
curl -XDELETE http://localhost:9200/pdfibi/
curl -XDELETE http://localhost:9200/fibirolodex/
curl -XDELETE http://localhost:9200/fibiperson/


curl -XPUT 'http://localhost:9200/awardfibi/' -d '{"settings": {"number_of_shards": 5,"analysis": {"filter": {"ngram_filter": {"type": "edgeNGram","min_gram": 2,"max_gram": 20}},"analyzer": {"ngram_analyzer": {"type": "custom","tokenizer": "whitespace","filter": ["lowercase", "ngram_filter"]}}}},"mappings": {"award": {"_all": {"type": "string","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"properties": { "document_number": {"type": "string","include_in_all": false},"award_id": {"type": "string","include_in_all": false},"award_number": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"pi_name": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"status": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"sponsor": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"account_number": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"lead_unit_number": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"lead_unit_name": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"title": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"obligation_expiration_date": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"status_code": {"type": "integer","include_in_all": false,"index": "not_analyzed"},"@version": {"type": "integer","include_in_all": false},"@timestamp": {"type": "date","include_in_all": false}}}}}'
 

curl -XPUT 'http://localhost:9200/coifibi/' -d '{"settings": {"number_of_shards": 5,"analysis": {"filter": {"ngram_filter": {"type": "edgeNGram","min_gram": 2,"max_gram": 20}},"analyzer": {"ngram_analyzer": {"type": "custom","tokenizer": "whitespace","filter": ["lowercase", "ngram_filter"]}}}},"mappings": {"coi": {"_all": {"type": "string","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"properties": { "coi_disclosure_id": {"type": "string","include_in_all": false},"document_number": {"type": "string","include_in_all": false},"coi_disclosure_number": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"module_item_key": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"full_name": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"disclosure_disposition": {"type": "string","include_in_all": false},"disclosure_status": {"type": "string","include_in_all": false,"index": "not_analyzed"},"@version": {"type": "integer","include_in_all": false},"@timestamp": {"type": "date","include_in_all": false}}}}}';


curl -XPUT 'http://localhost:9200/iacucfibi/' -d '{"settings": {"number_of_shards": 5,"analysis": {"filter": {"ngram_filter": {"type": "edgeNGram","min_gram": 2,"max_gram": 20}},"analyzer": {"ngram_analyzer": {"type": "custom","tokenizer": "whitespace","filter": ["lowercase", "ngram_filter"]}}}},"mappings": {"iacuc": {"_all": {"type": "string","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"properties": { "protocol_id": {"type": "string","include_in_all": false},"document_number": {"type": "string","include_in_all": false},"protocol_number": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"protocol_type": {"type": "string","include_in_all": false},"lead_unit_number": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"lead_unit_name": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"status": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"person_name": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"title": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"status_code": {"type": "string","include_in_all": false,"index": "not_analyzed"},"@version": {"type": "integer","include_in_all": false},"@timestamp": {"type": "date","include_in_all": false}}}}}';



curl -XPUT 'http://localhost:9200/irbprotocolfibi/' -d '{"settings": {"number_of_shards": 5,"analysis": {"filter": {"ngram_filter": {"type": "edgeNGram","min_gram": 2,"max_gram": 20}},"analyzer": {"ngram_analyzer": {"type": "custom","tokenizer": "whitespace","filter": ["lowercase", "ngram_filter"]}}}},"mappings": {"irbprotocol": {"_all": {"type": "string","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"properties": { "document_id": {"type": "string","include_in_all": false},"protocol_number": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"pi_name": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"lead_unit_number": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"lead_unit_name": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"title": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"status_code": {"type": "integer","include_in_all": false,"index": "not_analyzed"},"status": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"protocol_type": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"submission_status": {"type": "string","include_in_all": false,"index": "not_analyzed"},"approval_date": {"type": "string","include_in_all": false,"index": "not_analyzed"},"expiration_date": {"type": "string","include_in_all": false,"index": "not_analyzed"},"@version": {"type": "integer","include_in_all": false},"@timestamp": {"type": "date","include_in_all": false}}}}}'


curl -XPUT 'http://localhost:9200/pdfibi/' -d '{"settings": {"number_of_shards": 5,"analysis": {"filter": {"ngram_filter": {"type": "edgeNGram","min_gram": 2,"max_gram": 20}},"analyzer": {"ngram_analyzer": {"type": "custom","tokenizer": "whitespace","filter": ["lowercase", "ngram_filter"]}}}},"mappings": {"irb": {"_all": {"type": "string","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"properties": { "document_number": {"type": "string","include_in_all": false},"proposal_number": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"protocol_type": {"type": "string","include_in_all": false},"lead_unit_number": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"status": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"lead_unit_name": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"person_name": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"sponsor": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"title": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "standard"},"status_code": {"type": "string","include_in_all": false,"index": "not_analyzed"},"@version": {"type": "integer","include_in_all": false},"@timestamp": {"type": "date","include_in_all": false}}}}}'


curl -XPUT 'http://localhost:9200/fibiperson/' -d '{"settings": {"number_of_shards": 5,"analysis": {"filter": {"ngram_filter": {"type": "edgeNGram","min_gram": 2,"max_gram": 20}},"analyzer": {"ngram_analyzer": {"type": "custom","tokenizer": "whitespace","filter": ["lowercase", "ngram_filter"]}}}},"mappings": {"person": {"_all": {"type": "string","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"properties": { "prncpl_id": {"type": "string","include_in_all": false},"full_name": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"prncpl_nm": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"email_addr": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"unit_number": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"unit_name": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"addr_line_1": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"phone_nbr": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"}}}}}'
  
  
curl -XPUT 'http://localhost:9200/fibirolodex/' -d '{"settings": {"number_of_shards": 5,"analysis": {"filter": {"ngram_filter": {"type": "edgeNGram","min_gram": 2,"max_gram": 20}},"analyzer": {"ngram_analyzer": {"type": "custom","tokenizer": "whitespace","filter": ["lowercase", "ngram_filter"]}}}},"mappings": {"rolodex": {"_all": {"type": "string","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"properties": { "rolodex_id": {"type": "integer","include_in_all": false},"organization": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"last_name": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"first_name": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"},"middle_name": {"type": "string","include_in_all": true,"term_vector": "yes","analyzer": "ngram_analyzer","search_analyzer": "whitespace"}}}}}'

3. Please fill jdbc_user and jdbc_password  property in award.conf


4. Load data using logstash by executing the below command.

	/opt/logstash/bin/logstash -f /etc/logstash/conf.d/fibi_conf/awardfibi.conf

